# 局域网聊天应用 (Chat App)

一个简单易用的局域网聊天应用，支持多设备实时聊天和文件共享功能。

## 功能特性

- 🗨️ **实时聊天**: 支持局域网内多设备同时在线聊天
- 👤 **自动用户名**: 基于浏览器特征自动生成4位唯一用户名
- 📁 **文件共享**: 支持文件上传下载，单文件最大500MB
- 🌐 **中文支持**: 完全支持中文文件名和聊天内容
- 📱 **响应式设计**: 适配手机和桌面设备
- 💾 **数据持久化**: 聊天记录和文件自动保存

## 项目结构

```
chat-app/
├── data/                 # 数据存储目录
│   ├── uploads/         # 上传文件存储
│   └── chat.json        # 聊天记录
├── public/              # 前端文件
│   ├── index.html       # 聊天页面
│   └── files.html       # 文件管理页面
├── package.json         # 项目配置
├── server.js           # 服务器主文件
└── README.md           # 说明文档
```

## 安装与运行

### 1. 安装 Node.js
确保您的系统已安装 Node.js (版本 14.0 或更高)
- 下载地址: https://nodejs.org/

### 2. 安装项目依赖
```bash
# 进入项目目录
cd chat-app

# 安装依赖包
npm install
```

### 3. 启动服务器
```bash
# 生产环境运行
npm start

# 或开发环境运行 (自动重启)
npm run dev
```

### 4. 访问应用
- 本机访问: http://localhost:3000
- 局域网访问: http://[您的IP地址]:3000

## 获取局域网IP地址

### Windows系统:
```cmd
ipconfig | findstr "IPv4"
```

### macOS/Linux系统:
```bash
ifconfig | grep "inet "
# 或
ip addr show
```

## 使用说明

### 聊天功能
1. 打开浏览器访问应用地址
2. 系统会自动为您生成一个4位用户名
3. 在输入框中输入消息，点击发送或按回车键
4. 点击"清空记录"可以清除所有聊天历史

### 文件管理
1. 点击右上角"网盘"按钮进入文件管理页面
2. 拖拽文件到上传区域或点击选择文件上传
3. 支持多文件同时上传，单文件最大500MB
4. 可以下载或删除已上传的文件
5. 点击"返回聊天"回到聊天界面

## 技术栈

- **后端**: Node.js + Express + Socket.IO
- **前端**: HTML5 + CSS3 + JavaScript
- **文件上传**: Multer
- **实时通信**: WebSocket (Socket.IO)

## 注意事项

1. **防火墙设置**: 确保3000端口未被防火墙阻止
2. **网络环境**: 所有设备需要在同一局域网内
3. **浏览器兼容**: 建议使用现代浏览器 (Chrome, Firefox, Safari, Edge)
4. **文件大小**: 单个文件最大支持500MB
5. **数据安全**: 数据仅存储在本地服务器，请定期备份重要文件

## 常见问题

### Q: 其他设备无法访问？
A: 请检查：
- 是否在同一局域网内
- 防火墙是否阻止了3000端口
- IP地址是否正确

### Q: 文件上传失败？
A: 请检查：
- 文件大小是否超过500MB
- 磁盘空间是否充足
- 文件名是否包含特殊字符

### Q: 聊天记录丢失？
A: 聊天记录保存在 `data/chat.json` 文件中，如果文件损坏会自动重建空文件。

## 开发与定制

如需修改端口或其他配置，请编辑 `server.js` 文件中的相应设置：

```javascript
const PORT = process.env.PORT || 3000; // 修改端口
```

## 许可证

MIT License - 可自由使用、修改和分发。